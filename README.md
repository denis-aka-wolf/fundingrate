# Telegram-бот для отслеживания ставок финансирования (Funding Rate)

[English version](ENG_README.md) | [Версия на русском](README.md)

Telegram-бот, который позволяет отслеживать ставки финансирования с Binance для различных криптовалютных пар. Бот автоматически уведомляет пользователей, когда ставки превышают заданный порог.

## Команды

- `/start` - начать работу с ботом
- `/settings` - посмотреть текущие настройки
- `/status` - проверить статус бота
- `/lang <language_code>` - изменить язык (например, `en`, `ru`)

## Функциональность

- Автоматическая проверка ставок финансирования каждую минуту
- Настройка порога уведомлений
- Уведомления о превышении порога ставки финансирования
- Поддержка нескольких языков

## Настройка окружения

Для работы бота необходимо создать файл `.env` в корневой директории проекта и добавить в него следующие переменные:

```shell
TELEGRAM_BOT_TOKEN=ВАШ_ТЕЛЕГРАМ_БОТ_ТОКЕН
SAVE_BYBIT_RESPONSE=true
CONSOLE_OUTPUT=true
```

- `TELEGRAM_BOT_TOKEN` - токен вашего Telegram-бота.
- `SAVE_BYBIT_RESPONSE` - если `true`, ответы от Bybit будут сохраняться в директорию `bybit_responses`.
- `CONSOLE_OUTPUT` - если `true`, ответы от Bybit будут выводиться в консоль.

## Локализация

Для генерации файлов локализации выполните следующую команду:

```shell
dart run intl_utils:generate
```

**Важно:** `intl_utils` генерирует код с зависимостью от Flutter. Поскольку это консольное приложение, после каждой генерации необходимо вручную исправлять сгенерированные файлы `lib/generated/l10n.dart` и `lib/generated/intl/messages_all.dart`, чтобы удалить зависимость от Flutter.

## Моки (Mocks)

Для пересоздания мок-файлов для тестов выполните следующую команду:

```shell
flutter pub run build_runner build --delete-conflicting-outputs
```
